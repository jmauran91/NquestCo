webpackHotUpdate(0,{

/***/ 545:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _chatList = __webpack_require__(546);\n\nvar _chatList2 = _interopRequireDefault(_chatList);\n\nvar _chatCell = __webpack_require__(569);\n\nvar _chatCell2 = _interopRequireDefault(_chatCell);\n\nvar _socket = __webpack_require__(153);\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _Auth = __webpack_require__(18);\n\nvar _Auth2 = _interopRequireDefault(_Auth);\n\nvar _Fetch = __webpack_require__(21);\n\nvar _Fetch2 = _interopRequireDefault(_Fetch);\n\nvar _Convert = __webpack_require__(22);\n\nvar _Convert2 = _interopRequireDefault(_Convert);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar socket = (0, _socket2.default)({ rejectUnauthorized: false, 'transports': ['websockets', 'flashsocket', 'polling'] });\n\nvar ChatContainer = function (_React$Component) {\n  _inherits(ChatContainer, _React$Component);\n\n  function ChatContainer(props) {\n    _classCallCheck(this, ChatContainer);\n\n    var _this = _possibleConstructorReturn(this, (ChatContainer.__proto__ || Object.getPrototypeOf(ChatContainer)).call(this, props));\n\n    _this.socket = socket;\n    _this.socket.on('ping', function (data) {\n      _this.socket.emit('pong', data);\n    });\n\n    _this.state = {\n      current_convo: '',\n      conversations: null,\n      current_convo_msgs: []\n    };\n\n    _this.convoSelector = _this.convoSelector.bind(_this);\n    _this.convoSetter = _this.convoSetter.bind(_this);\n    _this.convoMsgsSetter = _this.convoMsgsSetter.bind(_this);\n    _this.funcOnConvSelect = _this.funcOnConvSelect.bind(_this);\n    _this.meltConvosTogether = _this.meltConvosTogether.bind(_this);\n\n    _this.getConvos = _Fetch2.default.GetConvos.bind(_this);\n    _this.persistMessage = _Fetch2.default.PatchConvo.bind(_this);\n    return _this;\n  }\n\n  _createClass(ChatContainer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getConvos().then(function (response) {\n        if (response.message == \"no conversations for this user yet\") {\n          _this2.setState({ conversations: null });\n        } else {\n          var conv_array = response.conversations_array;\n          for (var n = 0, len = conv_array.length; n < len - 1; n++) {\n            for (var j = 1; j < len; j++) {\n              /// IF THERE ARE TWO CONVERSATIONS WITH REVERSED\n              /// AUTHOR / RECIPIENT AND RECIPIENT / AUTHOR\n              /// THEN MELT THEM TOGETHER\n              try {\n                if (conv_array[n][0].author.name == conv_array[j][0].recipient && conv_array[j][0].author.name == conv_array[n][0].recipient) {\n                  conv_array[n] = _this2.meltConvosTogether(conv_array[n], conv_array[j]);\n                  conv_array.splice(j, 1);\n                }\n              } catch (err) {\n                console.log(err);\n              }\n            }\n          }\n          _this2.setState({ conversations: conv_array });\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: 'meltConvosTogether',\n    value: function meltConvosTogether(conv1, conv2) {\n      var utiConvo = conv1.concat(conv2);\n      var meltedConvo = _Convert2.default.dateSort(utiConvo, 'msg');\n      return meltedConvo;\n    }\n  }, {\n    key: 'funcOnConvSelect',\n    value: function funcOnConvSelect(id) {\n      var _this3 = this;\n\n      var right_convo = this.state.conversations.find(function (conv) {\n        return conv[0].conversationId === id;\n      });\n      // find the conversation that matches with the convo_id given\n      // from clicking on the convo element\n      var convo_unread = 0;\n      // set up counter\n      right_convo = right_convo.map(function (msg, i) {\n        if (msg.isRead == false) {\n          convo_unread += 1;\n          msg.isRead = true;\n          _this3.persistMessage(msg);\n        }\n        return msg;\n      });\n      // sort through the array of msg objects for the right conversation\n      // count how many haven't been read, and then mark them as read.\n      // Save the quantum of unread messages to the counter.\n      var new_unread = this.props.total_unread - convo_unread;\n      // Subtract the quantum of unread messages from the total unread.\n      // Implying that they have now been read.\n      this.setState({ current_convo: id, current_convo_msgs: right_convo }, function () {\n        _this3.socket.emit('enter conversation', id);\n        _this3.props.notiTallyUpdater(new_unread);\n      });\n    }\n  }, {\n    key: 'convoSelector',\n    value: function convoSelector(event) {\n      var _this4 = this;\n\n      if (event.target.id) {\n        var id = event.target.id;\n      } else {\n        var id = event.target.parentElement.id;\n      }\n      if (this.state.current_convo != id) {\n        if (id == \"conv-list-new-message\") {\n          this.setState({\n            current_convo: id\n          });\n        } else {\n          this.funcOnConvSelect(id);\n        }\n      } else {\n        this.setState({ current_convo: '', current_convo_msgs: [] }, function () {\n          _this4.socket.emit('leave conversation', id);\n        });\n      }\n    }\n  }, {\n    key: 'convoSetter',\n    value: function convoSetter(id) {\n      var _this5 = this;\n\n      this.setState({ current_convo: id }, function () {\n        _this5.getConvos();\n      });\n    }\n  }, {\n    key: 'convoMsgsSetter',\n    value: function convoMsgsSetter(msgs) {\n      var _this6 = this;\n\n      this.setState({ current_convo_msgs: msgs }, function () {\n        var convoObject = {\n          message_objects: _this6.state.current_convo_msgs,\n          convo_id: _this6.state.current_convo\n        };\n        _this6.socket.emit('new message', convoObject);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this7 = this;\n\n      // if the id from the selector matches with\n      // one of the conversations fetched to the state\n      // then pass that conversation's message contents\n      // to the child as a prop\n      var message_objects_old = [];\n      var conversations = this.state.conversations;\n      if (this.state.current_convo != '') {\n        var chatCellStyle = {\n          display: 'block'\n        };\n        if (!_Convert2.default.isArrEmpty(this.state.conversations)) {\n          if (!_Convert2.default.isArrEmpty(this.state.conversations[0])) {\n            this.state.conversations.forEach(function (conversation) {\n              if (_this7.state.current_convo == conversation[0].conversationId) {\n                var convo_user = conversation[0].author.name;\n                if (_this7.state.current_convo_msgs[0].username) {\n                  var selected_convo_user = _this7.state.current_convo_msgs[0].username;\n                } else {\n                  var selected_convo_user = _this7.state.current_convo_msgs[0].author.name;\n                }\n                if (selected_convo_user == convo_user) {\n                  message_objects_old = _this7.state.current_convo_msgs;\n                }\n              }\n            }, this);\n          } else {\n            conversations = [];\n          }\n        }\n      } else {\n        var chatCellStyle = {\n          display: 'none'\n        };\n      }\n      return _react2.default.createElement(\n        'div',\n        { className: 'chatcontainer' },\n        _react2.default.createElement(\n          'div',\n          { className: 'chatlist' },\n          _react2.default.createElement(_chatList2.default, {\n            convoSelector: this.convoSelector,\n            current_user: this.props.current_user,\n            conversations: conversations,\n            socket: this.socket })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'chatcell', style: chatCellStyle },\n          _react2.default.createElement(_chatCell2.default, {\n            convoMsgsSetter: this.convoMsgsSetter,\n            convoSetter: this.convoSetter,\n            current_user: this.props.current_user,\n            current_convo: this.state.current_convo,\n            message_objects_old: message_objects_old,\n            notiTallyUpdater: this.props.notiTallyUpdater,\n            total_unread: this.props.total_unread,\n            socket: this.socket })\n        )\n      );\n    }\n  }]);\n\n  return ChatContainer;\n}(_react2.default.Component);\n\nvar _default = ChatContainer;\nexports.default = _default;\n;\n\nvar _temp = function () {\n  if (typeof __REACT_HOT_LOADER__ === 'undefined') {\n    return;\n  }\n\n  __REACT_HOT_LOADER__.register(socket, 'socket', '/Users/johnmauran/Challenges/webpack3_react/app/components/chat/ChatContainer.js');\n\n  __REACT_HOT_LOADER__.register(ChatContainer, 'ChatContainer', '/Users/johnmauran/Challenges/webpack3_react/app/components/chat/ChatContainer.js');\n\n  __REACT_HOT_LOADER__.register(_default, 'default', '/Users/johnmauran/Challenges/webpack3_react/app/components/chat/ChatContainer.js');\n}();\n\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQ1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FwcC9jb21wb25lbnRzL2NoYXQvQ2hhdENvbnRhaW5lci5qcz9lNDE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2hhdExpc3QgZnJvbSAnLi9jaGF0TGlzdCc7XG5pbXBvcnQgQ2hhdENlbGwgZnJvbSAnLi9jaGF0Q2VsbCc7XG5pbXBvcnQgaW8gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XG5pbXBvcnQgQXV0aCBmcm9tICcuLi8uLi9tb2R1bGVzL0F1dGgnO1xuaW1wb3J0IEZldGNoIGZyb20gJy4uLy4uL21vZHVsZXMvRmV0Y2gnO1xuaW1wb3J0IENvbnZlcnQgZnJvbSAnLi4vLi4vbW9kdWxlcy9Db252ZXJ0JztcbmNvbnN0IHNvY2tldCA9IGlvKCB7IHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UsICd0cmFuc3BvcnRzJzogWyd3ZWJzb2NrZXRzJywgJ2ZsYXNoc29ja2V0JywgJ3BvbGxpbmcnXSB9KVxuXG5cblxuY2xhc3MgQ2hhdENvbnRhaW5lciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcbiAgICB0aGlzLnNvY2tldC5vbigncGluZycsIChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnNvY2tldC5lbWl0KCdwb25nJywgZGF0YSk7XG4gICAgfSlcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50X2NvbnZvOiAnJyxcbiAgICAgIGNvbnZlcnNhdGlvbnM6IG51bGwsXG4gICAgICBjdXJyZW50X2NvbnZvX21zZ3M6IFtdXG4gICAgfVxuXG4gICAgdGhpcy5jb252b1NlbGVjdG9yID0gdGhpcy5jb252b1NlbGVjdG9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jb252b1NldHRlciA9IHRoaXMuY29udm9TZXR0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNvbnZvTXNnc1NldHRlciA9IHRoaXMuY29udm9Nc2dzU2V0dGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5mdW5jT25Db252U2VsZWN0ID0gdGhpcy5mdW5jT25Db252U2VsZWN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5tZWx0Q29udm9zVG9nZXRoZXIgPSB0aGlzLm1lbHRDb252b3NUb2dldGhlci5iaW5kKHRoaXMpO1xuXG5cbiAgICB0aGlzLmdldENvbnZvcyA9IEZldGNoLkdldENvbnZvcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMucGVyc2lzdE1lc3NhZ2UgPSBGZXRjaC5QYXRjaENvbnZvLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgIHRoaXMuZ2V0Q29udm9zKClcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmKHJlc3BvbnNlLm1lc3NhZ2UgPT0gXCJubyBjb252ZXJzYXRpb25zIGZvciB0aGlzIHVzZXIgeWV0XCIpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29udmVyc2F0aW9uczogbnVsbH0pXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGNvbnZfYXJyYXkgPSByZXNwb25zZS5jb252ZXJzYXRpb25zX2FycmF5XG4gICAgICAgIGZvciggdmFyIG4gPSAwLCBsZW4gPSBjb252X2FycmF5Lmxlbmd0aDsgbiA8IGxlbiAtIDE7IG4rKyl7XG4gICAgICAgICAgZm9yKCB2YXIgaiA9IDE7IGogPCBsZW4gOyBqKyspe1xuICAgICAgICAgICAgLy8vIElGIFRIRVJFIEFSRSBUV08gQ09OVkVSU0FUSU9OUyBXSVRIIFJFVkVSU0VEXG4gICAgICAgICAgICAvLy8gQVVUSE9SIC8gUkVDSVBJRU5UIEFORCBSRUNJUElFTlQgLyBBVVRIT1JcbiAgICAgICAgICAgIC8vLyBUSEVOIE1FTFQgVEhFTSBUT0dFVEhFUlxuICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICBpZihjb252X2FycmF5W25dWzBdLmF1dGhvci5uYW1lID09IGNvbnZfYXJyYXlbal1bMF0ucmVjaXBpZW50ICYmIGNvbnZfYXJyYXlbal1bMF0uYXV0aG9yLm5hbWUgPT0gY29udl9hcnJheVtuXVswXS5yZWNpcGllbnQpe1xuICAgICAgICAgICAgICAgIGNvbnZfYXJyYXlbbl0gPSB0aGlzLm1lbHRDb252b3NUb2dldGhlcihjb252X2FycmF5W25dLCBjb252X2FycmF5W2pdKVxuICAgICAgICAgICAgICAgIGNvbnZfYXJyYXkuc3BsaWNlKGosIDEpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGVycil7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnZlcnNhdGlvbnM6IGNvbnZfYXJyYXkgfSlcbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgfSlcbiAgfVxuXG4gIG1lbHRDb252b3NUb2dldGhlcihjb252MSwgY29udjIpe1xuICAgIHZhciB1dGlDb252byA9IGNvbnYxLmNvbmNhdChjb252MilcbiAgICB2YXIgbWVsdGVkQ29udm8gPSBDb252ZXJ0LmRhdGVTb3J0KHV0aUNvbnZvLCAnbXNnJylcbiAgICByZXR1cm4gbWVsdGVkQ29udm87XG4gIH1cblxuXG4gIGZ1bmNPbkNvbnZTZWxlY3QoaWQpe1xuICAgIHZhciByaWdodF9jb252byA9IHRoaXMuc3RhdGUuY29udmVyc2F0aW9ucy5maW5kKGNvbnYgPT4gY29udlswXS5jb252ZXJzYXRpb25JZCA9PT0gaWQpXG4gICAgLy8gZmluZCB0aGUgY29udmVyc2F0aW9uIHRoYXQgbWF0Y2hlcyB3aXRoIHRoZSBjb252b19pZCBnaXZlblxuICAgIC8vIGZyb20gY2xpY2tpbmcgb24gdGhlIGNvbnZvIGVsZW1lbnRcbiAgICB2YXIgY29udm9fdW5yZWFkID0gMFxuICAgIC8vIHNldCB1cCBjb3VudGVyXG4gICAgcmlnaHRfY29udm8gPSByaWdodF9jb252by5tYXAoKG1zZywgaSkgPT4ge1xuICAgICAgaWYobXNnLmlzUmVhZCA9PSBmYWxzZSl7XG4gICAgICAgIGNvbnZvX3VucmVhZCArPSAxXG4gICAgICAgIG1zZy5pc1JlYWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnBlcnNpc3RNZXNzYWdlKG1zZylcbiAgICAgIH1cbiAgICAgIHJldHVybiBtc2c7XG4gICAgfSlcbiAgICAvLyBzb3J0IHRocm91Z2ggdGhlIGFycmF5IG9mIG1zZyBvYmplY3RzIGZvciB0aGUgcmlnaHQgY29udmVyc2F0aW9uXG4gICAgLy8gY291bnQgaG93IG1hbnkgaGF2ZW4ndCBiZWVuIHJlYWQsIGFuZCB0aGVuIG1hcmsgdGhlbSBhcyByZWFkLlxuICAgIC8vIFNhdmUgdGhlIHF1YW50dW0gb2YgdW5yZWFkIG1lc3NhZ2VzIHRvIHRoZSBjb3VudGVyLlxuICAgIHZhciBuZXdfdW5yZWFkID0gdGhpcy5wcm9wcy50b3RhbF91bnJlYWQgLSBjb252b191bnJlYWRcbiAgICAvLyBTdWJ0cmFjdCB0aGUgcXVhbnR1bSBvZiB1bnJlYWQgbWVzc2FnZXMgZnJvbSB0aGUgdG90YWwgdW5yZWFkLlxuICAgIC8vIEltcGx5aW5nIHRoYXQgdGhleSBoYXZlIG5vdyBiZWVuIHJlYWQuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRfY29udm86IGlkLCBjdXJyZW50X2NvbnZvX21zZ3M6IHJpZ2h0X2NvbnZvfSxcbiAgICAoKSA9PiB7XG4gICAgICB0aGlzLnNvY2tldC5lbWl0KCdlbnRlciBjb252ZXJzYXRpb24nLCBpZClcbiAgICAgIHRoaXMucHJvcHMubm90aVRhbGx5VXBkYXRlcihuZXdfdW5yZWFkKVxuICAgIH0pXG4gIH1cblxuXG4gIGNvbnZvU2VsZWN0b3IoZXZlbnQpe1xuICAgIGlmIChldmVudC50YXJnZXQuaWQpe1xuICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuaWRcbiAgICB9XG4gICAgaWYodGhpcy5zdGF0ZS5jdXJyZW50X2NvbnZvICE9IGlkKXtcbiAgICAgIGlmKGlkID09IFwiY29udi1saXN0LW5ldy1tZXNzYWdlXCIpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50X2NvbnZvOiBpZFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZnVuY09uQ29udlNlbGVjdChpZClcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudF9jb252bzogJycsIGN1cnJlbnRfY29udm9fbXNnczogW10gfSxcbiAgICAgICAoKSA9PiB7IHRoaXMuc29ja2V0LmVtaXQoJ2xlYXZlIGNvbnZlcnNhdGlvbicsIGlkKSB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnZvU2V0dGVyKGlkKXtcbiAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudF9jb252bzogaWQgfSwgKCkgPT4ge1xuICAgICAgdGhpcy5nZXRDb252b3MoKTtcbiAgICB9KVxuICB9XG5cbiAgY29udm9Nc2dzU2V0dGVyKG1zZ3Mpe1xuICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50X2NvbnZvX21zZ3M6IG1zZ3MgfSwgKCkgPT4ge1xuICAgICAgY29uc3QgY29udm9PYmplY3QgPSB7XG4gICAgICAgIG1lc3NhZ2Vfb2JqZWN0czogdGhpcy5zdGF0ZS5jdXJyZW50X2NvbnZvX21zZ3MsXG4gICAgICAgIGNvbnZvX2lkOiB0aGlzLnN0YXRlLmN1cnJlbnRfY29udm8sXG4gICAgICB9XG4gICAgICB0aGlzLnNvY2tldC5lbWl0KCduZXcgbWVzc2FnZScsIGNvbnZvT2JqZWN0KVxuICAgIH0pXG4gIH1cblxuXG4gIHJlbmRlcigpe1xuXG4gICAgLy8gaWYgdGhlIGlkIGZyb20gdGhlIHNlbGVjdG9yIG1hdGNoZXMgd2l0aFxuICAgIC8vIG9uZSBvZiB0aGUgY29udmVyc2F0aW9ucyBmZXRjaGVkIHRvIHRoZSBzdGF0ZVxuICAgIC8vIHRoZW4gcGFzcyB0aGF0IGNvbnZlcnNhdGlvbidzIG1lc3NhZ2UgY29udGVudHNcbiAgICAvLyB0byB0aGUgY2hpbGQgYXMgYSBwcm9wXG4gICAgdmFyIG1lc3NhZ2Vfb2JqZWN0c19vbGQgPSBbXTtcbiAgICB2YXIgY29udmVyc2F0aW9ucyA9IHRoaXMuc3RhdGUuY29udmVyc2F0aW9ucztcbiAgICBpZih0aGlzLnN0YXRlLmN1cnJlbnRfY29udm8gIT0gJycpe1xuICAgICAgdmFyIGNoYXRDZWxsU3R5bGUgPSB7XG4gICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgIH1cbiAgICAgIGlmKCFDb252ZXJ0LmlzQXJyRW1wdHkodGhpcy5zdGF0ZS5jb252ZXJzYXRpb25zKSl7XG4gICAgICAgIGlmKCFDb252ZXJ0LmlzQXJyRW1wdHkodGhpcy5zdGF0ZS5jb252ZXJzYXRpb25zWzBdKSl7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb252ZXJzYXRpb25zLmZvckVhY2goKGNvbnZlcnNhdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5jdXJyZW50X2NvbnZvID09IGNvbnZlcnNhdGlvblswXS5jb252ZXJzYXRpb25JZCl7XG4gICAgICAgICAgICAgIHZhciBjb252b191c2VyID0gY29udmVyc2F0aW9uWzBdLmF1dGhvci5uYW1lO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuY3VycmVudF9jb252b19tc2dzWzBdLnVzZXJuYW1lICl7XG4gICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRfY29udm9fdXNlciA9IHRoaXMuc3RhdGUuY3VycmVudF9jb252b19tc2dzWzBdLnVzZXJuYW1lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkX2NvbnZvX3VzZXIgPSB0aGlzLnN0YXRlLmN1cnJlbnRfY29udm9fbXNnc1swXS5hdXRob3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIHNlbGVjdGVkX2NvbnZvX3VzZXIgPT0gY29udm9fdXNlciApe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZV9vYmplY3RzX29sZCA9IHRoaXMuc3RhdGUuY3VycmVudF9jb252b19tc2dzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcylcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbnZlcnNhdGlvbnMgPSBbXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIGNoYXRDZWxsU3R5bGUgPSB7XG4gICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4oXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXRjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0bGlzdFwiPlxuICAgICAgICAgIDxDaGF0TGlzdFxuICAgICAgICAgICAgY29udm9TZWxlY3Rvcj17dGhpcy5jb252b1NlbGVjdG9yfVxuICAgICAgICAgICAgY3VycmVudF91c2VyPXt0aGlzLnByb3BzLmN1cnJlbnRfdXNlcn1cbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbnM9e2NvbnZlcnNhdGlvbnN9XG4gICAgICAgICAgICBzb2NrZXQ9e3RoaXMuc29ja2V0fS8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXRjZWxsXCIgc3R5bGU9e2NoYXRDZWxsU3R5bGV9PlxuICAgICAgICAgIDxDaGF0Q2VsbFxuICAgICAgICAgICAgY29udm9Nc2dzU2V0dGVyPXt0aGlzLmNvbnZvTXNnc1NldHRlcn1cbiAgICAgICAgICAgIGNvbnZvU2V0dGVyPXt0aGlzLmNvbnZvU2V0dGVyfVxuICAgICAgICAgICAgY3VycmVudF91c2VyPXt0aGlzLnByb3BzLmN1cnJlbnRfdXNlcn1cbiAgICAgICAgICAgIGN1cnJlbnRfY29udm89e3RoaXMuc3RhdGUuY3VycmVudF9jb252b31cbiAgICAgICAgICAgIG1lc3NhZ2Vfb2JqZWN0c19vbGQ9e21lc3NhZ2Vfb2JqZWN0c19vbGR9XG4gICAgICAgICAgICBub3RpVGFsbHlVcGRhdGVyPXt0aGlzLnByb3BzLm5vdGlUYWxseVVwZGF0ZXJ9XG4gICAgICAgICAgICB0b3RhbF91bnJlYWQ9e3RoaXMucHJvcHMudG90YWxfdW5yZWFkfVxuICAgICAgICAgICAgc29ja2V0PXt0aGlzLnNvY2tldH0vPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGF0Q29udGFpbmVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9jb21wb25lbnRzL2NoYXQvQ2hhdENvbnRhaW5lci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBdEJBO0FBdUJBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTs7O0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVJBO0FBcUJBOzs7O0FBbE1BO0FBQ0E7QUFvTUE7Ozs7Ozs7OztBQXpNQTtBQUNBO0FBR0E7QUFDQTs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///545\n");

/***/ })

})